<html>

<head>
    <title>
    {{object}}
    </title>
</head>
<body>
    <div>
        <a href="{% url 'constructor_list' %}">List All Constructors</a>
    </div>

    <h1>{{object}}</h1>

    <div class="ObjectsList">
        <table>
        <th>
            <tr>
            <td>Chassis</td>
            <td>Engine</td>
            <td>Year(s)</td>
            <td>Driver(s)</td>
        </th>
        
        {% for car in object.cars %}
            <tr>
                <td>
                    <a href="{% url 'car_detail' car.slug %}">{{car.name}}</a>
                </td>
                <td>
                {% if car.engine %}
                    <a href="{% url 'engine_detail' car.engine.pk %}">{{car.engine}}</a>
                {% else %}
                    --
                {% endif %}
                </td>

                <td>
                {% for season in car.season_list %}
                    {{season}}
                {% endfor %}
                </td>
            </tr>
        {% endfor%}
        </table>
    </div>

    {% comment %} can't get the template admin:f1web_car_add to work {% endcomment %}
    <a href="{% url 'admin:index' %}f1web/car/add" target="_blank">Add Car through Admin</a>
    
    <div class="AddObjectForm">
        <h3>Create a new Car by {{object}}</h3>
        <form method="POST">
        {{form}}
        {% csrf_token %}
        <input type="submit" />
        </form>
    </div>
</body>
</html>